<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>5ï¸âƒ£iè¨ˆç•«é€šè¡ŒÂ·æœå‹™ç›£æ§</title>
  <link rel="icon" href="https://iTCoffe.Github.io/Status/logo.ico" />
  <style>
    :root {
      /* æµ…è‰²æ¨¡å¼å˜é‡ */
      --bg-color: #ffffff;
      --text-color: #333333;
      --header-bg: #f8f9fa;
      --card-bg: #ffffff;
      --card-border: #e0e0e0;
      --link-color: #1a0dab;
      --hover-color: #f5f5f5;
      --status-good: #10b981;
      --status-minor: #f59e0b;
      --status-major: #ef4444;
      --status-maintenance: #6366f1;
      --uptime-good: #22c55e;
      --uptime-warning: #f59e0b;
      --uptime-bad: #ef4444;
      --tooltip-bg: rgba(255, 255, 255, 0.95);
      --tooltip-shadow: rgba(0, 0, 0, 0.1);
      --footer-border: #e0e0e0;
      --toggle-bg: #f0f0f0;
      --toggle-icon: 'ğŸŒ™';
    }

    /* æ·±è‰²æ¨¡å¼å˜é‡ */
    body.dark-mode {
      --bg-color: #121212;
      --text-color: #e0e0e0;
      --header-bg: #1e1e1e;
      --card-bg: #1e1e1e;
      --card-border: #333333;
      --link-color: #bb86fc;
      --hover-color: #2d2d2d;
      --status-good: #10b981;
      --status-minor: #f59e0b;
      --status-major: #ef4444;
      --status-maintenance: #818cf8;
      --uptime-good: #22c55e;
      --uptime-warning: #f59e0b;
      --uptime-bad: #ef4444;
      --tooltip-bg: rgba(30, 30, 30, 0.95);
      --tooltip-shadow: rgba(0, 0, 0, 0.3);
      --footer-border: #333333;
      --toggle-bg: #2d2d2d;
      --toggle-icon: 'â˜€ï¸';
    }

    /* åŸºæœ¬æ ·å¼ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* é¡µå¤´æ ·å¼ */
    .pageContainer {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
    }

    .headline {
      display: flex;
      align-items: center;
      padding: 20px 0;
      margin-bottom: 30px;
      border-bottom: 1px solid var(--card-border);
      background-color: var(--header-bg);
      position: relative;
    }

    .headline img {
      height: 40px;
      margin-right: 20px;
    }

    .headline span {
      font-size: 24px;
      font-weight: bold;
      color: var(--text-color);
    }

    /* æš—é»‘æ¨¡å¼åˆ‡æ¢æŒ‰é’® */
    .dark-mode-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: var(--toggle-bg);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: background-color 0.3s ease;
    }

    .dark-mode-toggle::after {
      content: var(--toggle-icon);
      transition: transform 0.3s ease;
    }

    .dark-mode-toggle:hover::after {
      transform: scale(1.2);
    }

    /* æœåŠ¡çŠ¶æ€å¡ç‰‡æ ·å¼ */
    .reportContainer {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .statusContainer {
      background-color: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s ease;
    }

    .statusContainer:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .statusHeader {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .statusTitle {
      font-size: 18px;
      font-weight: bold;
      color: var(--text-color);
    }

    .statusHeadline {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
    }

    .status-good {
      background-color: rgba(16, 185, 129, 0.15);
      color: var(--status-good);
    }

    .status-minor {
      background-color: rgba(245, 158, 11, 0.15);
      color: var(--status-minor);
    }

    .status-major {
      background-color: rgba(239, 68, 68, 0.15);
      color: var(--status-major);
    }

    .status-maintenance {
      background-color: rgba(99, 102, 241, 0.15);
      color: var(--status-maintenance);
    }

    .statusSubtitle {
      display: flex;
      flex-direction: column;
    }

    .sectionUrl {
      margin-bottom: 8px;
    }

    .sectionUrl a {
      color: var(--link-color);
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s;
    }

    .sectionUrl a:hover {
      text-decoration: underline;
    }

    .statusUptime {
      font-size: 14px;
      color: var(--text-color);
    }

    .uptime-good {
      color: var(--uptime-good);
    }

    .uptime-warning {
      color: var(--uptime-warning);
    }

    .uptime-bad {
      color: var(--uptime-bad);
    }

    /* çŠ¶æ€æ—¶é—´çº¿æ ·å¼ */
    .statusTimeline {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid var(--card-border);
    }

    .statusLine {
      display: flex;
      height: 32px;
      margin-bottom: 8px;
      position: relative;
      overflow: hidden;
    }

    .statusSquare {
      width: 24px;
      height: 24px;
      margin-right: 3px;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }

    .statusSquare:hover {
      transform: scale(1.2);
    }

    .status-good {
      background-color: var(--status-good);
    }

    .status-minor {
      background-color: var(--status-minor);
    }

    .status-major {
      background-color: var(--status-major);
    }

    .status-maintenance {
      background-color: var(--status-maintenance);
    }

    /* æç¤ºæ¡†æ ·å¼ */
    .tooltip {
      position: absolute;
      background-color: var(--tooltip-bg);
      color: var(--text-color);
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 4px 12px var(--tooltip-shadow);
      pointer-events: none;
      z-index: 100;
      width: 280px;
      transition: opacity 0.3s;
      border: 1px solid var(--card-border);
      backdrop-filter: blur(10px);
      opacity: 0;
      transform: translateY(10px);
    }

    .tooltipArrow {
      position: absolute;
      top: -10px;
      left: 20px;
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 10px solid var(--tooltip-bg);
    }

    .tooltipDateTime {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 8px;
      color: var(--text-color);
    }

    .tooltipStatus {
      font-size: 14px;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      margin-bottom: 12px;
    }

    .tooltipDescription {
      font-size: 14px;
      color: var(--text-color);
      line-height: 1.5;
    }

    hr {
      border: none;
      height: 1px;
      background-color: var(--card-border);
      margin: 10px 0;
    }

    /* é¡µè„šæ ·å¼ */
    footer {
      text-align: center;
      padding: 20px 0;
      margin-top: 40px;
      border-top: 1px solid var(--footer-border);
      color: var(--text-color);
      font-size: 14px;
    }

    footer a {
      color: var(--link-color);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* å“åº”å¼å¸ƒå±€ */
    @media (max-width: 768px) {
      .reportContainer {
        grid-template-columns: 1fr;
      }
      
      .headline {
        padding: 20px 50px 20px 20px;
      }
      
      .headline img {
        height: 35px;
      }
      
      .statusContainer {
        padding: 15px;
      }
    }

    @media (max-width: 480px) {
      .headline span {
        font-size: 20px;
      }
      
      .pageContainer {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="pageContainer">
    <!-- é¡µå¤´éƒ¨åˆ† -->
    <div class="headline">
      <img src="https://iTCoffe.Github.io/Status/logo.png" alt="5ï¸âƒ£iè¨ˆç•«é€šè¡Œ Logo">
      <span>ç³»çµ±æœå‹™ç‹€æ…‹</span>
    </div>
    
    <!-- æš—é»‘æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
    <button class="dark-mode-toggle" title="åˆ‡æ›æš—é»‘æ¨¡å¼"></button>
    
    <!-- çŠ¶æ€æŠ¥å‘Šå®¹å™¨ -->
    <div id="reports" class="reportContainer"></div>
    
    <!-- æç¤ºæ¡† -->
    <div id="tooltip" class="tooltip" style="opacity:0">
      <div id="tooltipArrow" class="tooltipArrow"></div>
      <div id="tooltipDateTime" class="tooltipDateTime"></div>
      <div id="tooltipStatus" class="tooltipStatus"></div>
      <hr />
      <div id="tooltipDescription" class="tooltipDescription"></div>
    </div>
  </div>
  
  <!-- é¡µè„š -->
  <footer>
    Forked from <a href="https://vlink.cc/5iClub">Â© 2022-2025 5ï¸âƒ£iè¨ˆç•«é€šè¡ŒÂ·æ¨‚ç©å…¬ç¤¾</a>
  </footer>

  <script>
    // æš—é»‘æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    }
    
    // åˆå§‹åŒ–æš—é»‘æ¨¡å¼
    function initDarkMode() {
      const toggleBtn = document.querySelector('.dark-mode-toggle');
      toggleBtn.addEventListener('click', toggleDarkMode);
      
      const isDark = localStorage.getItem('darkMode') === 'true';
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (isDark || (!('darkMode' in localStorage) && prefersDark)) {
        document.body.classList.add('dark-mode');
      }
    }
    
    // æœåŠ¡çŠ¶æ€æ•°æ®
    const services = [
      {
        id: "main-website",
        title: "ä¸»ç¶²ç«™æœå‹™",
        url: "https://5i-club.tw",
        status: "status-good",
        statusText: "æ­£å¸¸é‹è¡Œ",
        upTime: "99.98%",
        history: [
          { date: "2023-11-01 14:00", status: "good", description: "æ­£å¸¸é‹è¡Œ" },
          { date: "2023-10-28 03:00", status: "maintenance", description: "è¨ˆåŠƒç¶­è­· - ç³»çµ±å‡ç´š" },
          { date: "2023-10-20 09:30", status: "minor", description: "é–“æ­‡æ€§é€£ç·šå•é¡Œ - å·²ä¿®å¾©" }
        ]
      },
      {
        id: "api-service",
        title: "API æœå‹™",
        url: "https://api.5i-club.tw",
        status: "status-good",
        statusText: "æ­£å¸¸é‹è¡Œ",
        upTime: "99.95%",
        history: [
          { date: "2023-11-01 14:00", status: "good", description: "æ­£å¸¸é‹è¡Œ" },
          { date: "2023-10-29 11:20", status: "good", description: "æ­£å¸¸é‹è¡Œ" },
          { date: "2023-10-27 16:45", status: "minor", description: "éƒ¨åˆ† API å›æ‡‰ç·©æ…¢" }
        ]
      },
      {
        id: "payment-gateway",
        title: "æ”¯ä»˜é–˜é“",
        url: "https://pay.5i-club.tw",
        status: "status-good",
        statusText: "æ­£å¸¸é‹è¡Œ",
        upTime: "99.92%",
        history: [
          { date: "2023-11-01 14:00", status: "good", description: "æ­£å¸¸é‹è¡Œ" },
          { date: "2023-10-30 10:15", status: "major", description: "æ”¯ä»˜è™•ç†å»¶é² - å·²è§£æ±º" },
          { date: "2023-10-25 02:00", status: "maintenance", description: "è¨ˆåŠƒç¶­è­· - å®‰å…¨æ€§æ›´æ–°" }
        ]
      },
      {
        id: "database-cluster",
        title: "æ•¸æ“šåº«é›†ç¾¤",
        url: null,
        status: "status-good",
        statusText: "æ­£å¸¸é‹è¡Œ",
        upTime: "99.99%",
        history: [
          { date: "2023-11-01 14:00", status: "good", description: "æ­£å¸¸é‹è¡Œ" },
          { date: "2023-10-31 08:00", status: "minor", description: "å‚™ä»½ç¨‹åºè¼•å¾®å»¶é²" },
          { date: "2023-10-15 01:00", status: "maintenance", description: "è¨ˆåŠƒç¶­è­· - å„ªåŒ–ç´¢å¼•" }
        ]
      }
    ];

    // çŠ¶æ€å¡ç‰‡æ¨¡æ¿
    function statusContainerTemplate(service) {
      const uptimeClass = service.upTime >= "99.99%" ? "uptime-good" : 
                          service.upTime >= "99.9%" ? "uptime-warning" : "uptime-bad";
      
      return `
        <div class="statusContainer" id="${service.id}">
          <div class="statusHeader">
            <h6 class="statusTitle">${service.title}</h6>
            <div class="${service.status} statusHeadline">${service.statusText}</div>
          </div>
          <div class="statusSubtitle">
            <div class="sectionUrl">
              ${service.url ? `<a href="${service.url}" target="_blank">${service.url}</a>` : 'å…§éƒ¨æœå‹™'}
            </div>
            <div class="statusUptime ${uptimeClass}">
              æœ€è¿‘30å¤©æ­£å¸¸é‹è¡Œç‡: ${service.upTime}
            </div>
          </div>
          <div class="statusTimeline">
            <div class="statusLine" id="timeline-${service.id}">
              ${generateStatusSquares(service.history)}
            </div>
          </div>
        </div>
      `;
    }

    // ç”ŸæˆçŠ¶æ€æ–¹å—
    function generateStatusSquares(history) {
      let squares = '';
      
      // ç”Ÿæˆè¿‡å»30å¤©å†…çš„çŠ¶æ€æ–¹å—
      for (let i = 0; i < 30; i++) {
        // æ¨¡æ‹Ÿæ•°æ® - 90%çš„æ—¶é—´æ­£å¸¸
        let status = Math.random() > 0.1 ? 'good' : 
                    Math.random() > 0.6 ? 'minor' : 
                    Math.random() > 0.7 ? 'major' : 'maintenance';
        
        // ä½¿ç”¨å®é™…å†å²è®°å½•è¦†ç›–ä¸€äº›æ–¹å—
        if (history.length > i) {
          status = history[i].status;
        }
        
        squares += `<div class="statusSquare status-${status}" 
                         data-status="${status}" 
                         data-date="${history.length > i ? history[i].date : randomRecentDate()}" 
                         data-desc="${history.length > i ? history[i].description : 'æ­£å¸¸é‹è¡Œ'}"></div>`;
      }
      
      return squares;
    }

    // éšæœºç”Ÿæˆæ—¥æœŸï¼ˆç”¨äºçŠ¶æ€æ–¹å—ï¼‰
    function randomRecentDate() {
      const today = new Date();
      const daysAgo = Math.floor(Math.random() * 30);
      const hours = Math.floor(Math.random() * 24);
      const minutes = Math.floor(Math.random() * 60);
      
      const date = new Date(today);
      date.setDate(date.getDate() - daysAgo);
      date.setHours(hours, minutes);
      
      return date.toLocaleString('zh-TW', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit'
      }).replace(/\//g, '-');
    }

    // ç”Ÿæˆå…¨éƒ¨æŠ¥å‘Š
    function genAllReports() {
      const reportsContainer = document.getElementById('reports');
      reportsContainer.innerHTML = '';
      
      services.forEach(service => {
        reportsContainer.innerHTML += statusContainerTemplate(service);
      });
      
      // æ·»åŠ æç¤ºäº‹ä»¶
      addTooltipEvents();
    }

    // æ·»åŠ æç¤ºæ¡†äº¤äº’äº‹ä»¶
    function addTooltipEvents() {
      const tooltip = document.getElementById('tooltip');
      const squares = document.querySelectorAll('.statusSquare');
      
      squares.forEach(square => {
        square.addEventListener('mouseenter', function(e) {
          const rect = this.getBoundingClientRect();
          const date = this.getAttribute('data-date');
          const status = this.getAttribute('data-status');
          const desc = this.getAttribute('data-desc');
          
          // æ›´æ–°æç¤ºå†…å®¹
          document.getElementById('tooltipDateTime').textContent = date;
          document.getElementById('tooltipStatus').textContent = 
            status === 'good' ? 'é‹ä½œæ­£å¸¸' :
            status === 'minor' ? 'éƒ¨åˆ†å•é¡Œ' :
            status === 'major' ? 'æœå‹™ä¸­æ–·' : 'è¨ˆåŠƒç¶­è­·';
            
          document.getElementById('tooltipStatus').className = `tooltipStatus status-${status}`;
          document.getElementById('tooltipDescription').textContent = desc;
          
          // å®šä½æç¤ºæ¡†
          tooltip.style.left = `${rect.left - 140}px`;
          tooltip.style.top = `${rect.top + window.scrollY - 150}px`;
          
          // å®šä½ç®­å¤´
          document.getElementById('tooltipArrow').style.left = `${rect.left - 140 + 25}px`;
          
          // æ˜¾ç¤ºæç¤º
          tooltip.style.opacity = '1';
          tooltip.style.transform = 'translateY(0)';
        });
        
        square.addEventListener('mouseleave', function() {
          tooltip.style.opacity = '0';
          tooltip.style.transform = 'translateY(10px)';
        });
      });
    }

    // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
    window.onload = function() {
      initDarkMode();
      genAllReports();
    };
  </script>
</body>
</html>
